#Run commands in powershell
docker exec -it spark1 bash
###
source /etc/profile&&hadoop namenode -format&&start-all.sh&&usr/local/spark-1.6.2-bin-hadoop2.6/sbin/start-all.sh&&usr/local/apache-hive-1.2.1-bin/bin/schematool -initSchema -dbType mysql
###
nohup hive --service metastore -p 9083 >/dev/null &
###
hadoop fs -put /data/movie /
spark-submit --class com.cloud.datacleaner.ETL /data/traintools/ETL.jar
spark-submit --class com.cloud.datacleaner.RatingData /data/traintools/RatingData.jar
spark-submit --class com.cloud.ml.ModelTraining /data/traintools/ModelTraining.jar
spark-submit --class com.cloud.ml.RecommendForAllUsers --jars lib/mysql-connector-java-5.1.49-bin.jar data/traintools/RecommendForAllUsers.jar
spark-submit --class com.cloud.streaming.SparkDrStreamALS --jars /data/traintools/spark-streaming-kafka_2.10-1.6.2.jar,/data/traintools/kafka-clients-0.8.2.0.jar,/data/traintools/kafka_2.10-0.8.2.1.jar /data/traintools/SparkDrStreamALS.jar
spark-submit --class com.cloud.streaming.SparkDrStreamALS --jars /data/traintools/kafka-clients-0.10.2.2.jar,/data/traintools/metrics-core-2.2.0.jar,/data/traintools/kafka_2.10-0.8.2.1.jar,/data/traintools/spark-streaming-kafka_2.10-1.6.2.jar /data/traintools/SparkDrStreamALS.jar
    command:
      - sh
      - -c 
      - |
        "/usr/local/hadoop-2.6.4/sbin/start-all.sh"
        "/usr/local/spark-1.6.2-bin-hadoop2.6/sbin/start-all.sh"
        "/usr/local/apache-hive-1.2.1-bin/bin/hive --service metastore -p 9083" &